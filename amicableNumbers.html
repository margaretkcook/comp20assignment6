<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>amicable numbers</title>
<script>
	//event handler
	window.onload=function()
	{
		/*TEST CODE event handler
		alert("hello");*/
		document.getElementById("button").onclick = function()
		{
			num1=document.form1.number1.value;
			num2=document.form1.number2.value;
			myDiv=document.getElementById("result");
			myDiv.innerHTML=("Number 1: " + num1 + "<br>Number 2: " + num2 + "<br>");
			myDiv.innerHTML+=("<br>Number 1 Factors: ");
			showArray(getFactors(num1));
			myDiv.innerHTML+=("<br>Number 2 Factors: ");
			showArray(getFactors(num2));
			if(num1 == addArray(getFactors(num2)) && num2 == addArray(getFactors(num1))){
				myDiv.innerHTML+=("<br><br>These numbers are amicable");
			}
			else{
				myDiv.innerHTML+=("<br><br>These numbers are not amicable");
			}
		}
	}
	
	//isFactor - given a possible factor, will confirm if it is
	function isFactor(num, possFactor)
	{
		if(num%possFactor==0)
			return true;
	}
	/*TEST CODE isFactor
	document.write(isFactor(4, 2));*/
	
	//showArray function shows the contents of an array
	function showArray(displayArray)
	{
		displayDiv=document.getElementById("result");
		for(i=0; i < displayArray.length; i++)
		{
			displayDiv.innerHTML+=(displayArray[i] + " ");
		}
	}
	/*TEST CODE showArray
	var exArray = [1, 2, 3];
	showArray(exArray);*/
	
	//addArray takes an array and finds the sum of its contents
	function addArray(array)
	{
		total = 0;
		for(i=0; i < array.length; i++)
		{
			total+=array[i];
		}
		return total;	
	}
	/*TEST CODE addArray
	var exArray = [1, 2, 3];
	document.write(addArray(exArray));*/
	
	//getFactors function takes a number and returns an array of its factors
	function getFactors(num)
	{
		var factorsArray = [];
		for(i = num-1; i > 0; i--)
		{
			if(isFactor(num, i)==true)
			{
				factorsArray.push(i);
			}
		}
		return factorsArray;
	}
	/*TEST CODE getFactors
	showArray(getFactors(4));*/
</script>	
</head>

<body>
	<form name="form1">
		Enter number 1: <input type="text" id="number-1" name="number1">
		<br>
		Enter number 2: <input type="text" id="number-2" name="number2">
		<br>
		<input type="button" value="Submit" id="button">
	</form>
	<br>
	<div id="result">&nbsp;</div>
</body>
</html>
